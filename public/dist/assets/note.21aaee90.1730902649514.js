import{r as e,P as t,at as o,V as s,w as n,e as a,C as l,a as i,b as r,c as d,d as u,k as f,h as p,l as k,g as c,j as h,ar as C,as as v,F as g,f as w,x,T as m}from"./index.34872ab0.1730902649514.js";const j={key:1,class:"note2"},y={class:"text-ellipsis pl-2 pr-2"},b={__name:"note",props:{data:{type:Object,default:()=>({size:"1x1"})}},setup(b){var M;const H=e(t.get("noteList",[])),_=e(t.get("noteTitleHidden",!1)),V=b,z=e(V.data.size),L=e=>{_.value=e,t.set("noteTitleHidden",e)},B=e=>{let o=4-e.length,s=[];for(let t=0;t<o;t++)s.push({id:Math.random(),title:""});let n=[...e,...s];H.value=n,t.set("noteList",n)};Boolean(o("token"))&&s({url:"/note/get",method:"get",params:{sort:t.get("noteSort","desc"),limit:4}}).then((e=>{B(e.data)}));const T=e=>{openCard({url:"/noteApp",src:"/static/note.png",origin:V.data})};(null==(M=V.data)?void 0:M.id)&&n(V.data,(e=>{var t;t=e,z.value=t.size}));const Z=e=>{B(e)};return a.on("noteLoading",Z),l((()=>{a.off("noteLoading",Z)})),(e,t)=>{const o=i("el-icon");return r(),d("div",{onContextmenu:t[3]||(t[3]=()=>{}),class:"w-full h-full note"},["1x1"===z.value?(r(),d("div",{key:0,class:"w-full h-full flex items-center justify-center",onClick:T},t[4]||(t[4]=[u("svg",{width:"38px",height:"38px",viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[u("path",{d:"M7 37C7 29.2967 7 11 7 11C7 7.68629 9.68629 5 13 5H35V31C35 31 18.2326 31 13 31C9.7 31 7 33.6842 7 37Z",fill:"none",stroke:"rgb(248, 162, 34)","stroke-width":"4","stroke-linejoin":"round"}),u("path",{d:"M35 31C35 31 14.1537 31 13 31C9.68629 31 7 33.6863 7 37C7 40.3137 9.68629 43 13 43C15.2091 43 25.8758 43 41 43V7",stroke:"rgb(248, 162, 34)","stroke-width":"4","stroke-linecap":"round","stroke-linejoin":"round"}),u("path",{d:"M14 37H34",stroke:"rgb(248, 162, 34)","stroke-width":"4","stroke-linecap":"round","stroke-linejoin":"round"})],-1)]))):(r(),d("div",j,[u("div",{class:"note-head",onClick:T},[f(o,{size:"20px"},{default:p((()=>t[5]||(t[5]=[u("svg",{width:"80%",height:"80%",viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[u("path",{d:"M7 37C7 29.2967 7 11 7 11C7 7.68629 9.68629 5 13 5H35V31C35 31 18.2326 31 13 31C9.7 31 7 33.6842 7 37Z",fill:"none",stroke:"#fff","stroke-width":"4","stroke-linejoin":"round"}),u("path",{d:"M35 31C35 31 14.1537 31 13 31C9.68629 31 7 33.6863 7 37C7 40.3137 9.68629 43 13 43C15.2091 43 25.8758 43 41 43V7",stroke:"#fff","stroke-width":"4","stroke-linecap":"round","stroke-linejoin":"round"}),u("path",{d:"M14 37H34",stroke:"#fff","stroke-width":"4","stroke-linecap":"round","stroke-linejoin":"round"})],-1)]))),_:1}),t[6]||(t[6]=u("span",null,"备忘录",-1)),u("div",{class:"ml-auto mr-3 pt-1",onClick:t[2]||(t[2]=k((()=>{}),["stop"]))},[_.value?(r(),c(o,{key:0,color:"#fff",onClick:t[0]||(t[0]=k((e=>L(!1)),["stop"]))},{default:p((()=>[f(h(C))])),_:1})):(r(),c(o,{key:1,color:"#fff",onClick:t[1]||(t[1]=k((e=>L(!0)),["stop"]))},{default:p((()=>[f(h(v))])),_:1}))])]),u("div",{class:"note-body flex flex-col pt-1",onClick:T},[(r(!0),d(g,null,w(H.value,((e,t)=>(r(),c(m,{key:t},{default:p((()=>{return[u("div",y,x((t=e.title,_.value?t.replace(/./g,"*"):t)),1)];var t})),_:2},1024)))),128))])]))],32)}}};export{b as default};

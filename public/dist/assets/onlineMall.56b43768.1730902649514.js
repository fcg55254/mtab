import{r as a,u as e,V as t,O as l,a as s,M as o,b as i,c as r,d as n,F as p,f as u,n as c,x as d,i as m,k as g,h as v,j as b,aB as k,a7 as x,g as y,p as f,q as h,a9 as C,m as _,I as j,T as z,K as w}from"./index.34872ab0.1730902649514.js";import{r as I}from"./index.e2fe5762.1730902649514.js";import{T as L}from"./textIcon.3c9e3b5d.1730902649514.js";import"./wapp.bd2b2f5f.1730902649514.js";import"./sortable.esm.c2baa127.1730902649514.js";import"./dialog.226123aa.1730902649514.js";import"./app.7e4ab096.1730902649514.js";import"./index.ba2374e6.1730902649514.js";import"./wangEditor.c4e29644.1730902649514.js";import"./defavatar.fe9b13f3.1730902649514.js";import"./noLogo.563a3881.1730902649514.js";/* empty css                                                                 */const S=[{sort:5,name:"记事本",size:"1x1",src:"/static/note.png",url:"/noteApp",type:"icon",app:1,pid:null,bgColor:"rgba(252,141,0,1)",tips:"快捷记录您的日常笔记和灵感多端同步！"},{app:0,pid:null,src:"/static/editAll.png",url:"tab://editAll",name:"批量编辑",size:"1x1",sort:12,bgColor:"rgba(255,255,255,1)",tips:"快捷批量编辑您的桌面标签",type:"icon"},{sort:13,name:"添加标签",size:"1x1",src:"/static/addIco.png",url:"tab://addicon",type:"icon",bgColor:"rgba(255,255,255,1)",tips:"添加您的标签或卡片组件",app:0,pid:null},{app:0,pid:null,src:"/static/backgroundIco.png",url:"tab://background",name:"壁纸",bgColor:"rgba(255,255,255,1)",tips:"设置自己的个性首页背景",size:"1x1",sort:8,type:"icon"},{app:0,pid:null,src:"/static/bookmark.svg",url:"tab://bookmark",name:"书签管理",bgColor:"rgba(250, 99, 110, 1)",tips:"管理浏览器的书签列表",size:"1x1",sort:8,type:"icon",auth:!0},{app:0,pid:null,src:"/static/tip.svg",url:"tab://tip",name:"打赏",bgColor:"rgba(149,168,184,1)",tips:"打赏鼓励支持",size:"1x1",sort:8,type:"icon"},{app:0,pid:null,src:"/static/setting.png",url:"tab://setting",name:"设置",bgColor:"rgba(149,168,184,1)",tips:"系统设置面板以及个人中心",size:"1x1",sort:8,type:"icon"}];const A={class:"onlinemall"},V=["onClick"],T={class:"linkscroll"},q={class:"px-4 xs:w-2/3 m-auto mt-0.5"},B={key:1,class:"linklist grid sm:grid-cols-3 grid-cols-1 mt-4"},F={key:0},G={class:"links"},K=["src"],M={class:"linkTips"},W={class:"text-sm font-bold line-clamp-1"},E=["title"],O={class:"mt-2 flex items-center justify-end"},U={class:"flex justify-center mb-4 mt-4"},D={__name:"onlineMall",setup(D){const H=a(!0),J=a([]),N=e(),P=a(-1),Q=a(""),R=a(1),X=a(0),Y=a([]),Z=({auth:a=!1})=>!a||!!N.state.auth;t({url:"/LinkStore/getFolder"}).then((a=>{a.data.unshift({id:0,name:"全部"}),a.data.unshift({id:-1,name:"系统内置组件"}),J.value=a.data,l((()=>{let a=document.querySelector(".linkarea");a.scrollWidth>a.clientWidth&&(showArrow.value=!0)}))}));const $=a(""),aa=(a,e)=>{if(Y.value=[],-1===a)return Y.value=S,P.value=a,X.value=S.length,void(H.value=!1);H.value=!0,a!==P.value&&(P.value=a,R.value=1,ea())},ea=()=>{const a=Q.value.replace(/(http:|https:|)+(\/\/)/,"");t({url:"/LinkStore/list",method:"post",data:{area:P.value,name:a,page:R.value}}).then((a=>{Y.value=a.data.data,X.value=a.data.total,H.value=!1}))},ta=a=>{R.value=a,ea()};return aa(0),(a,e)=>{const l=s("el-icon"),S=s("el-input"),D=s("el-empty"),R=s("el-button"),la=s("el-pagination"),sa=o("loading");return i(),r("div",A,[n("div",{class:"linkarea select-none space-y-2",ref_key:"areaBox",ref:$},[(i(!0),r(p,null,u(J.value,(a=>(i(),r("div",{class:c({"bg-rose-500 text-white":a.id===P.value,linkareaItem:!0}),onClick:e=>aa(a.id)},d(a.name),11,V)))),256))],512),m((i(),r("div",T,[n("div",q,[g(S,{modelValue:Q.value,"onUpdate:modelValue":e[0]||(e[0]=a=>Q.value=a),class:"iconSearch",placeholder:"快捷搜索标签",onKeydown:x(ea,["enter"])},{suffix:v((()=>[g(l,{color:"#5d5d5d",size:"20px",class:"cursor-pointer",onClick:ea},{default:v((()=>[g(b(k))])),_:1})])),_:1},8,["modelValue"])]),0!==Y.value.length||H.value?(i(),r("div",B,[(i(!0),r(p,null,u(Y.value,(a=>(i(),y(z,{key:a.id},{default:v((()=>[Z(a)?(i(),r("div",F,[n("div",G,[/^txt:/.test(a.src)?(i(),y(L,{key:0,bgColor:a.bgColor,text:a.src,class:"linklogo",style:{margin:"0 !important"}},null,8,["bgColor","text"])):(i(),r("img",{key:1,style:f({backgroundColor:a.bgColor}),src:b(h)(a.src),class:"linklogo",alt:""},null,12,K)),n("div",M,[n("span",W,d(a.name),1),n("div",{class:"text-xs line-clamp-2",title:a.tips},d(a.tips),9,E)])]),n("div",O,[-1!==P.value&&(null==a?void 0:a.app)<=0?(i(),y(l,{key:0,size:"20px",class:"hover:text-blue-400 hover",onClick:e=>b(I)(a.url,!0)},{default:v((()=>[g(b(C))])),_:2},1032,["onClick"])):_("",!0),g(R,{style:{"background-color":"rgba(238,238,238,0.46)"},size:"small",class:"ml-2",round:"",onClick:e=>(a=>{let e={sort:99999,id:w(),name:a.name,size:a.size||"1x1",src:a.src,url:a.url,type:a.type,app:a.app,tips:a.tips,origin_id:a.id,bgColor:a.bgColor,pageGroup:N.state.pageGroup,custom:a.custom};N.state.link.push(e),N.commit("updateLink"),t({url:"/LinkStore/install_num",method:"post",data:{id:a.id}}).finally((a=>{}))})(a)},{default:v((()=>e[1]||(e[1]=[j("添加 ")]))),_:2},1032,["onClick"])])])):_("",!0)])),_:2},1024)))),128))])):(i(),y(D,{key:0,description:"该分类没有更多图标啦！",class:"mt-6"})),n("div",U,[X.value>12&&!H.value?(i(),y(la,{key:0,layout:"prev, pager, next","page-size":12,total:X.value,onCurrentChange:ta},null,8,["total"])):_("",!0)])])),[[sa,H.value]])])}}};export{D as default};
